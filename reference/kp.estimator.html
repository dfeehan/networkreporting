<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Average personal network size estimates using known population method — kp.estimator_ • networkreporting</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Average personal network size estimates using known population method — kp.estimator_"><meta name="description" content="If given attribute.names, then this function produces
estimated average network sizes given by the groups that are defined by
all combinations of the attributes; otherwise, it estimates the
average personal network size for the entire frame population."><meta property="og:description" content="If given attribute.names, then this function produces
estimated average network sizes given by the groups that are defined by
all combinations of the attributes; otherwise, it estimates the
average personal network size for the entire frame population."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">networkreporting</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/network_scaleup.html">Analyzing network scale-up data using the networkreporting package</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Average personal network size estimates using known population method</h1>

      <div class="d-none name"><code>kp.estimator.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>If given <code>attribute.names</code>, then this function produces
estimated average network sizes given by the groups that are defined by
all combinations of the attributes; otherwise, it estimates the
average personal network size for the entire frame population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kp.estimator_</span><span class="op">(</span></span>
<span>  <span class="va">resp.data</span>,</span>
<span>  <span class="va">known.populations</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  boot.weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ego.id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return.boot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  attribute.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  total.kp.size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alter.popn.size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dropmiss <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kp.estimator</span><span class="op">(</span></span>
<span>  <span class="va">resp.data</span>,</span>
<span>  <span class="va">known.populations</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  attribute.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  total.kp.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alter.popn.size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dropmiss <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-resp-data">resp.data<a class="anchor" aria-label="anchor" href="#arg-resp-data"></a></dt>
<dd><p>the dataframe that has the survey responses</p></dd>


<dt id="arg-known-populations">known.populations<a class="anchor" aria-label="anchor" href="#arg-known-populations"></a></dt>
<dd><p>the names of the columns in <code>resp.data</code>
that have respondents' reports about connections to known populations</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>the name of a column that has sampling weights</p></dd>


<dt id="arg-boot-weights">boot.weights<a class="anchor" aria-label="anchor" href="#arg-boot-weights"></a></dt>
<dd><p>Optional dataframe with bootstrap resampled weights. See Details for more info.</p></dd>


<dt id="arg-ego-id">ego.id<a class="anchor" aria-label="anchor" href="#arg-ego-id"></a></dt>
<dd><p>If boot.weights are included, then this is the name of the
column(s) we need to join the bootstrap weights onto the dataset. This is
most often the id of the ego making the reports.</p></dd>


<dt id="arg-return-boot">return.boot<a class="anchor" aria-label="anchor" href="#arg-return-boot"></a></dt>
<dd><p>if TRUE and boot.weights are included, then return the full bootstrapped estiamates and not just the summaries;
this option causes this function to return a list instead of a tibble</p></dd>


<dt id="arg-attribute-names">attribute.names<a class="anchor" aria-label="anchor" href="#arg-attribute-names"></a></dt>
<dd><p>the names of the columns in <code>resp.data</code> that
determine the subgroups for which average degree is estimated;
if NULL, then the average over all respondents is estimated</p></dd>


<dt id="arg-total-kp-size">total.kp.size<a class="anchor" aria-label="anchor" href="#arg-total-kp-size"></a></dt>
<dd><p>the size of the probe alters; i.e., the sum of the known population
sizes. if NULL, then this is set to 1</p></dd>


<dt id="arg-alter-popn-size">alter.popn.size<a class="anchor" aria-label="anchor" href="#arg-alter-popn-size"></a></dt>
<dd><p>the size of the population of alters; this is most
often the frame population, which is the default if nothing else is
specified; the size of the frame population is taken to be the sum
of the weights over all of resp.data</p></dd>


<dt id="arg-dropmiss">dropmiss<a class="anchor" aria-label="anchor" href="#arg-dropmiss"></a></dt>
<dd><p>if FALSE, then, for each row, use only the reports about connections to known populations
that have no missingness. This effectively assumes that missing reports are 0.
if TRUE, then only use rows that have no missingness in reported connections to known
populations in estimating degree.
in this case, the sampling weights are rescaled so that the implied total
size of the frame population is not changed.
(see the 'dropmiss' argument to the function report.aggregator_)
future versions may have other options</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>if TRUE, print information to screen</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the estimated average degree (<code>dbar.Fcell.F</code>) for respondents in each
        of the categories given by <code>attribute.names</code></p>
    </div>
    <div class="section level2">
    <h2 id="technical-note">Technical note<a class="anchor" aria-label="anchor" href="#technical-note"></a></h2>


<p>The estimated average degree is
\((\sum y_{F_\alpha, A} / N_A) \times
     N_F / N_{F_\alpha}\)
here, we estimate \(N_F / N_{F_\alpha}\) by dividing the
total of all respondents' weights by the sum of
the weights for respondents in each cell \(\alpha\).</p>
    </div>
    <div class="section level2">
    <h2 id="todo">TODO<a class="anchor" aria-label="anchor" href="#todo"></a></h2>


<ul><li><p>make unit tests</p></li>
<li><p>think about how to elegantly add options for dbar_(P,Q) vs dbar_(Q,P)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<p>If you want estimated sampling variances, you can pass in a data frame <code>boot.weights</code>.
<code>boot.weights</code> is assumed to have a column that is named whatever the <code>ego.id</code> is,
and then a series of columns named <code>boot_weight_1</code>, ..., <code>boot_weight_M</code>.</p>
<p>The two options for missing values are 'ignore' or 'complete.obs'.
'ignore' adds up each respondent's nonmissing reported connections to the known populations,
effectively treating missing reports as 0s.
'complete.obs' only uses responses from respondents who have non-missing values for all of
the known population reports.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dennis M. Feehan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

