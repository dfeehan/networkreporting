<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Analyzing network scale-up data using the <strong>networkreporting</strong> package</title>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>

<!-- MathJax scripts -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}
</style>



</head>

<body>
<h1>Analyzing network scale-up data using the <strong>networkreporting</strong> package</h1>

<!--
%\VignetteEngine{knitr}
%\VignetteIndexEntry{network scale-up}
-->

<h2>Introduction</h2>

<p>This will be a broad overview of the package (short) and the network scale-up method.</p>

<p>This introduction will assume that you already have the <strong>networkreporting</strong>
package installed. If you don&#39;t, please refer to the introductory vignette for
instructions on how to do this. (TODO LINK TO OTHER VIGNETTE).</p>

<h2>Analytic strategy</h2>

<p>For the purposes of this vignette, we&#39;ll assume that we have conducted a survey
using network scale-up questions to try and estimate the size of an important
population.  Analytically, this involves two main steps: </p>

<ul>
<li>step 1: we need to estimate the size of the survey respondents&#39; personal networks (their <em>degrees</em>)</li>
<li>step 2: we need to use the estimated degrees to produce estimates for the size of a hidden population.</li>
</ul>

<h3>Step 1: estimating network sizes</h3>

<p>Here, we will use the <em>known population</em> estimator for respondents&#39; degrees. (TODO CITE). In order to estimate the degree of the \(i\) th survey respondent, we use</p>

<p>\[
\begin{align}
\label{eqn:kpdegree}
\hat{d_i} = \sum_{j \in K} y_{ij} \frac{N}{\sum_{j \in K} N_j},
\end{align}
\]</p>

<p>\noindent where \(N\) is the total size of the population, \(N_j\) is the size of the \(j\) th population of known size, and \(y_{ij}\) is the number of connections that survey respondent \(i\) reports between herself and members of the \(j\) th population of known size.</p>

<h3>Step 2: estimating hidden population sizes</h3>

<p>Once we have the estimates of the respondents&#39; degrees, we use them to produce an estimate for the size of the population of interest via TODO WRITE THIS BETTER</p>

<p>\[
\begin{align}
\label{eqn:nsum}
\hat{N}_h = \frac{ \sum_{i \in s} y_{ih} }{ \sum_{i \in s} \hat{d_i} },
\end{align}
\]</p>

<p>\noindent where \(N_h\) is the size of the population of interest (which we want to estimate), \(s\) is the set of respondents in our sample, and \(\hat{d_i}\) is the estimate of the size of respondent \(i\)&#39;s degree, obtained using the known population method.</p>

<h2>Preparing data</h2>

<p>The first step is to prepare the data.  We&#39;ll assume that we start with two datasets: the first is a survey containing information collected from respondents about their personal networks; the second is information about the sizes of several populations.</p>

<p>The example data for this vignette are provided with the <code>networkreporting</code> package, and can be loaded by typing</p>

<pre><code class="r">library(networkreporting)
library(plyr)
library(ggplot2)  # we&#39;ll use qplot from ggplot2 for plots
theme_set(theme_minimal())

data(hhsurvey)  # this is a demo dataset included with the package
</code></pre>

<p>We can look at the survey dataset, which is called <code>example.survey</code></p>

<pre><code class="r">head(example.survey)
</code></pre>

<pre><code>##      id cluster      region indweight  sex age.cat widower nurse.or.doctor
## 1 1.1.1       1 Kigali City    0.3306 Male [25,35)       3               2
## 2 1.1.2       1 Kigali City    0.3306 Male [25,35)       0               2
## 3 1.1.3       1 Kigali City    0.3306 Male [25,35)       2               8
## 4 1.1.4       1 Kigali City    0.3306 Male [25,35)       0               1
## 5 1.1.5       1 Kigali City    0.3306 Male [25,35)       0               0
## 6 1.1.6       1 Kigali City    0.3306 Male [25,35)       7               4
##   male.community.health teacher woman.smoke priest civil.servant
## 1                     1       5           1      0             5
## 2                     1       5           0      0             5
## 3                     0       3           0      0            50
## 4                     0       0           0      0             5
## 5                     0       0           0      0             5
## 6                     0       8           2      0             6
##   woman.gave.birth muslim incarcerated judge man.divorced treatedfortb
## 1                3      4            2     3            2            0
## 2                3      0            2     3            1            0
## 3                4      3            0     0            2            0
## 4                0      0            0     0            0            0
## 5                0      0            0     0            1            0
## 6                3      4            3     0            1            0
##   nsengimana murekatete twahirwa mukandekezi nsabimana mukamana ndayambaje
## 1          0          0        2           1         2        3          1
## 2          3          2        0           0         1        0          0
## 3          0          0        0           1         2        0          0
## 4          1          0        0           0         0        0          0
## 5          0          0        0           0         0        0          0
## 6          1          1        0           0         0        0          0
##   nyiraneza bizimana nyirahabimana ndagijimana mukandayisenga died
## 1         0        2             0           1              0    0
## 2         0        0             0           0              0    1
## 3         0        0             0           0              0    2
## 4         0        0             0           0              0    0
## 5         0        0             0           0              0    0
## 6         0        0             0           0              0    4
##   sex.workers msm idu clients
## 1           0   0   0       2
## 2           0   0   0       1
## 3           0   0   0       0
## 4           0   0   0       0
## 5           0   0   0       0
## 6           0   0   0      10
</code></pre>

<p>There are several columns: <code>cluster</code>, <code>region</code>, and <code>indweight</code> are variables related to the sampling design for the survey; <code>sex</code> and <code>age.cat</code> are demographic characteristics of the respondents; <code>widower</code>, &hellip;, <code>mukandayisenga</code> are responses to questions about populations whose total size is known, and finally, <code>died</code>, &hellip;, <code>clients</code> are responses to questions about hidden populations.</p>

<p>In addition to the survey responses, we also have information about the sizes of the known populations in <code>knownpop.dat</code>:</p>

<pre><code class="r">head(knownpop.dat)
</code></pre>

<pre><code>##              known.popn   size
## 1               widower  36147
## 2       nurse.or.doctor   7807
## 3 male.community.health  22000
## 4               teacher  47745
## 5           woman.smoke 119438
## 6                priest   1004
</code></pre>

<h3>Topcoding</h3>

<p>TODO &ndash; topcoding functions in package</p>

<h2>Estimating network sizes</h2>

<p>Now that we have finished preparing the data, we turn to esimating the sizes of each respondent&#39;s personal network.  The <code>networkreporting</code> package can do this using the known population estimator [TODO CITE] and the <code>TODO</code> function.</p>

<pre><code class="r">kp.vec &lt;- knownpop.dat$size
names(kp.vec) &lt;- paste(knownpop.dat$known.popn)

d.hat &lt;- kp.degree.estimator(survey.data = example.survey, known.popns = kp.vec, 
    total.popn.size = tot.pop.size, missing = &quot;complete.obs&quot;)
</code></pre>

<p>Note that the function reports that it&#39;s working in absolute numbers (instead of, for example, proportions.)  We can examine the results with a histogram</p>

<pre><code class="r">qplot(d.hat, binwidth = 25)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-5"/> </p>

<p>Let&#39;s attach the degree estimates to the dataframe to keep track of them:</p>

<pre><code class="r">example.survey$d.hat &lt;- d.hat
</code></pre>

<h3>Missing data in known population questions</h3>

<p>TODO</p>

<h2>Internal valididty checks</h2>

<p>In order to run internal validation checks, you can use the
<code>nsum.internal.validation</code> function. The example below makes use of the fact
that we already attached the known populations to the <code>example.survey</code>
dataframe using the <code>kp.vec</code> command above. We use <code>total.popn.size=NA</code> to indicate
that we wish to get proportions instead of absolute numbers. We also specify that we wish to use only complete observations (ie, we will remove rows that have any missing values from our calculations).</p>

<pre><code class="r">iv.result &lt;- nsum.internal.validation(survey.data = example.survey, known.popns = kp.vec, 
    missing = &quot;complete.obs&quot;, killworth.se = TRUE, total.popn.size = tot.pop.size, 
    kp.method = TRUE, return.plot = FALSE)
</code></pre>

<p>Now <code>iv.result</code> is a list that has a summary of the results in the entry <code>results</code></p>

<pre><code class="r">iv.result$results
</code></pre>

<pre><code>##                     name nsum.holdout.est known.size d.hat.sum
## 1                widower            56691      36147    277550
## 2        nurse.or.doctor            48284       7807    273041
## 3  male.community.health            68732      22000    271656
## 4                teacher           132738      47745    263482
## 5            woman.smoke            91117     119438    289259
## 6                 priest            13697       1004    279367
## 7       woman.gave.birth           157893     256164    307852
## 8                 muslim           190357     195449    283572
## 9           incarcerated            38727      68000    289497
## 10          man.divorced            30217      50698    287314
## 11            nsengimana            32923      32528    282261
## 12            murekatete            31300      30531    282172
## 13              twahirwa            22080      10420    279607
## 14           mukandekezi            15129      10520    281263
## 15             nsabimana            42761      48560    283742
## 16              mukamana            37399      51449    285737
## 17            ndayambaje            30295      22724    280565
## 18             nyiraneza            24582      21705    281672
## 19              bizimana            39591      38497    282095
## 20         nyirahabimana            23452      42727    287018
## 21           ndagijimana            29759      37375    284179
## 22        mukandayisenga            23302      35055    285180
##    killworth.se killworth.se.wgtdenom      err  abserr     sqerr   relerr
## 1        1475.7                1475.7  20544.1 20544.1 4.221e+08  0.56835
## 2        1373.6                1373.6  40477.4 40477.4 1.638e+09  5.18476
## 3        1641.5                1641.5  46731.8 46731.8 2.184e+09  2.12417
## 4        2309.3                2309.3  84993.1 84993.1 7.224e+09  1.78015
## 5        1829.6                1829.6 -28320.9 28320.9 8.021e+08  0.23712
## 6         724.5                 724.5  12692.9 12692.9 1.611e+08 12.64235
## 7        2327.3                2327.3 -98270.6 98270.6 9.657e+09  0.38362
## 8        2658.5                2658.5  -5092.4  5092.4 2.593e+07  0.02606
## 9        1195.3                1195.3 -29272.8 29272.8 8.569e+08  0.43048
## 10       1060.2                1060.2 -20480.6 20480.6 4.195e+08  0.40397
## 11       1116.4                1116.4    394.8   394.8 1.559e+05  0.01214
## 12       1088.8                1088.8    768.8   768.8 5.911e+05  0.02518
## 13        919.1                 919.1  11660.2 11660.2 1.360e+08  1.11902
## 14        758.8                 758.8   4608.9  4608.9 2.124e+07  0.43811
## 15       1268.4                1268.4  -5798.6  5798.6 3.362e+07  0.11941
## 16       1182.4                1182.4 -14050.2 14050.2 1.974e+08  0.27309
## 17       1074.3                1074.3   7570.9  7570.9 5.732e+07  0.33317
## 18        966.1                 966.1   2877.0  2877.0 8.277e+06  0.13255
## 19       1224.2                1224.2   1094.5  1094.5 1.198e+06  0.02843
## 20        934.8                 934.8 -19275.0 19275.0 3.715e+08  0.45112
## 21       1058.0                1058.0  -7616.3  7616.3 5.801e+07  0.20378
## 22        934.8                 934.8 -11752.5 11752.5 1.381e+08  0.33526
</code></pre>

<p>Since we passed the argument <code>return.plot=TRUE</code> to the function, we also get a plot:</p>

<pre><code class="r">print(iv.result$plot)
</code></pre>

<pre><code>## NULL
</code></pre>

<h2>Estimating totals</h2>

<p>Now that we have estimated degrees, we can use them to produce estimates of the populations we&#39;re interested in. Here, we&#39;ll take the example of injecting drug users, <code>idu</code></p>

<pre><code class="r">idu.est &lt;- nsum.estimator(survey.data = example.survey, d.hat.vals = d.hat, 
    total.popn.size = tot.pop.size, y.vals = &quot;idu&quot;, missing = &quot;complete.obs&quot;)
</code></pre>

<p>Note that we had to specify that we should use only rows in our dataset with no missing values through the <code>missing = &quot;complete.obs&quot;</code> option, and also that we had to pass in the total population size using the <code>total.popn.size</code> option. The resulting estimate is</p>

<pre><code class="r">idu.est
</code></pre>

<pre><code>## $estimate
## [1] 987
## 
## $tot.connections
## [1] 26
## 
## $sum.d.hat
## [1] 282355
</code></pre>

<p>This gives us both the estimate as well as the numerator and denominator.</p>

<h2>Variance estimation</h2>

<p>In order to estimate the sampling uncertainty of our estimated totals, we can use the rescaled bootstrap technique that is in the <code>networkreporting</code> package. In order to do so, we need to be able to describe the sampling design of our study. In particular, we need to be able to describe the stratifcation (if any) and the primary sampling units used in the study.</p>

<pre><code class="r">idu.est &lt;- bootstrap.estimates(## this describes the sampling design of the
                               ## survey; here, the PSUs are given by the
                               ## variable cluster, and the strata are given
                               ## by the variable region
                               survey.design = ~ cluster + strata(region),
                               ## the number of bootstrap resamples to obtain
                               num.reps=100,
                               ## this is the name of the function
                               ## we want to use to produce an estimate
                               ## from each bootstrapped dataset
                               estimator.fn=&quot;nsum.estimator&quot;,
                               ## these are the sampling weights
                               weights=&quot;indweight&quot;,
                               ## this is the name of the type of bootstrap
                               ## we wish to use
                               bootstrap.fn=&quot;rescaled.bootstrap.sample&quot;,
                               ## our dataset
                               survey.data=example.survey,
                               ## other parameters we need to pass
                               ## to the nsum.estimator function
                               d.hat.vals=d.hat,
                               total.popn.size=tot.pop.size,
                               y.vals=&quot;idu&quot;,
                               missing=&quot;complete.obs&quot;)
</code></pre>

<p>By default, <code>bootstrap.estimates</code> produces a list with <code>num.reps</code> entries; each entry is the result of calling the estimator function on one bootstrap resample.  We can write a bit of code that will help us put all of these results together, for plotting and summarizing</p>

<pre><code class="r">## combine the estimates together in one data frame (bootstrap.estimates
## gives us a list)
all.idu.estimates &lt;- ldply(idu.est, function(x) {
    data.frame(estimate = x$estimate)
})
</code></pre>

<p>We can examine the summarized results with a histogram or with <code>summarize</code>.</p>

<pre><code class="r">## look at a histogram of the results
qplot(all.idu.estimates$estimate, binwidth = 50)
</code></pre>

<p><img src="data:image/png;base64,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BDIRUOAzSYQwCBAgQIDAIAUU+EFqaosAAQIECGQioMBnkghhECBAgACBQQoo8IPU1BYBAgQIEMhEYCKTOIRBoHECq1atalyf++0ws34FTd8kAXvwTcq2vhIgQIBAYwQU+MakWkcJECBAoEkCCnyTsq2vBAgQINAYAQW+ManWUQIECBBokoAC36Rs6ysBAgQINEZAgW9MqnWUAAECBJokoMA3Kdv6SoAAAQKNEVDgG5NqHSVAgACBJgko8E3Ktr4SIECAQGMEFPjGpFpHCRAgQKBJAgp8k7KtrwQIECDQGAEFvjGp1lECBAgQaJKAAt+kbOsrAQIECDRGQIFvTKp1lAABAgSaJKDANynb+kqAAAECjRFQ4BuTah0lQIAAgSYJKPBNyra+EiBAgEBjBCYWuqe33nprestb3jJjtp/85CfTk570pO5rl156abrmmmuK54cddli6+uqru+95QIAAAQIECMwtsOAF/oQTTkg33XRTEdkXvvCF9IEPfGBGcY831q1bl6699tq0bNmyNDY2NncvjEGAAAECBAjMEFjwAr9o0aK01157pccffzxdcsklRTGfHtHU1FR6+OGHi9fj8TnnnDP97RR7+x/72Me6rx199NHprW99a/d51Q+2bt2aNm3aVHUYCzr/ycnJYkMsclu3oZ9c1TnXZfsdn8lWq5XGx8frluq+4411VpN2OCLP8dmOXDep37GMb9u2re/lZVANRL1cvHhxqeYWvMB3ovzoRz+aXvayl6U4BD99uP/++9Ohhx5a/G3YsCGddtpp6cYbb+yOctRRR6VXvOIV3ecx/dKlS7vPq36wY8eOrOJZCI86F/h+lp0657psv2PlF38TE5WtOhZikZ51HnvvvXeq40bsrJ3p8cXt27eXLi49ziK70WL5jqHsZ2TQHepnmavsU3rFFVcUe+M7Yxx++OHdQ/hr1qxJV111VbrvvvvSihUrilGf9axnpfjLdYhkNG3vJrb0Ywu/jv3uJ+Y657qffsdnr9/pc/387imu6HM/K9s9tZ3je/G5jv7GX5P24CMXdf5sT1+WKjmmGnvpMRx55JHTYyke33333en8888vHsdhkjiUuHz58l3G8wIBAgQIECCwe4FKCvydd96ZjjvuuBlRrV27trhafuXKlenggw9OZ511Vlq9enW66KKLGrm3MAPHEwIECBAgME+BSg7Rn3TS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AgQWVqBUgY89+M759/g/7mx31VVXpe///u/vKfpLL700XXPNNcW4hx12WLr66qtnTHfdddel97///cU8fv/3f784BTBjBE8IECBAgACBPQqUKvDPf/7zZzR68sknp3vvvTd9/vOfT2edddaM92Z7sm7dunTttdcWt7jd+Ur8OL8fh/+vv/76dM8996S1a9emm2++ebZmvEaAAAECBAjsRqBUgd+5rfjqXBTjuOBurmFqaio9/PDDKYp8PD7nnHNmTHLXXXel448/Ph144IHF3yOPPFLsyS9ZsqQY74/+6I/Shz70oe40Me7ll1/efV71g/gBnqYNkccYFi0qdc1m07hq399Nmzal8fHx2vdjvh2InY+dd0jm20adxo/1+uTkZJHrJvU71mdxC/bOeq3qnMXvvSxevLhUGKUKfJxnv//++4sZxkIQPxMbAXzwgx+cM4iY7tBDDy3+4tB+/IDNjTfe2J0ujgQcdNBB3edR6B988MG0YsWK4rWY91Oe8pQZ7++///7d5zk8yC2eYZvEbxHECqDsSj/uhmioj0D8uFTZFU59erlrpPvtt1+jNmJj3R6FLnLdpAIfGzWbN28ujjDvuhTU65VSBT7OoW/durXb09jCOO6441JnL7v7xiwPDj/88HTTTTcV76xZs6Y4d3/fffd1C/gBBxyQYg+hMwT0IYcc0nmajjzyyOKv+4IHBAgQIECAwC4CpY6pxsV0J5xwQlGUo/g++9nP7qm4x9zvvvvudP755xeBxAV6UcyXL1/eDezYY49Nt99+e4qtxzg8H4dJetlw6DbgAQECBAgQIFDuRjdf//rXi/PkT3va09Lznve8FIeuPvzhD/fEuXLlyuIGOXEx3urVq1N85S4O7cbFdHE1fRT78847L51++unplFNOSZdddllP7RqJAAECBAgQ+D+Bsfaecuv/nvb2KH5J7gd+4AfShRdeWFwI96UvfSmdffbZKX4v/phjjumpkbgYLX6oZvqP1UyfMPbu4726XbgV9+l3Dn56Jud+7Bz83EY5jRHXzvRzDr6u+b7zzjtrtz7qZ7lxDn5ZP3xZTFvqHPzXvva19LnPfa576DyK/Wtf+9p0yy239Fzg99577z0COCy/Rx5vEiBAgACBPQqUOgcfF9TFefLpQ3xXffrFcNPf85gAAQIECBBYWIFSe/BvetObilvSnnTSSemII44o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T3xieuyxxwbYYv5NRZ4XL16cf6ADjnDt2rXpE5/4xIBbzbu5sbGxtGTJkhT/N2m48sor00/+5E+ORJcV+AGmcfv27em73/3uAFvUVK4CrVarKO7xv2H0BeJzHZ9vw+gLRJ43b948Eh1V4EcijTpBgAABAgRmCijwMz08I0CAAAECIyEwMRK9yKQTJ5xwQjrssMMyiUYYwxSI85LXXHNN2meffYY5G21nIvD2t789HX744ZlEI4xhCrz0pS9Nz3zmM4c5iwVre6x9DtFJxAXjNiMCBAgQILAwAg7RL4yzuRAgQIAAgQUVUOAXlNvMCBAgQIDAwggo8ANy/sY3vpFe/epXp5NOOil9+tOfHlCrmslF4L3vfW/64z/+4yKcbdu2pTe+8Y3ph37oh9Kv/uqvdkN8//vfn17ykpcU90Jo2vfjuwg1frBp06b0Mz/zM+kVr3hFuvTSS7s9mS2vPu9dnto9+M///M90xhlndON+4IEH0pve9KZ0+umnp7e97W0pPt8xzJb36667Lp166qnplFNOSXfddVe3jVwfKPADysxP//RPp7gQ5y//8i/Te97znvQ///M/A2pZM1UL/P3f/3360Ic+lB555JEilN/5nd9JRx99dPr85z+fNm7cmK6//voU49x6660pVgAnnnhi+o3f+I2qwzb/eQr82Z/9Wfq+7/u+9JnPfCb9y7/8S/qHf/iH3ebV532euJmM/tnPfjadddZZKTbQOkN8nl/0oheluFFZDJ/85CdnzXtstF9yySUpboTz27/92ylufpT7oMAPKEPf+ta30vHHH58OPvjg9MIXvrBYOQyoac1UKBB7db/2a7+WfvEXf7EbxS233JJ+5Ed+pLij29lnn52+8IUvpPXr16czzzwzxV394m6G8ZqhXgIHHnhg+upXv5r+7d/+LX37299Oe+21127z6vNer9x2oo3P87p16zpPi/9/7ud+rij68WTp0qXpv/7rv2bNe+yxxzo+lpNnPetZxQZ/Z29/RoMZPVHgB5CM73znO2nvvffutvQ93/M96cEHH+w+96C+Ar/wC79QHIbfd999u524995700EHHVQ87+R6+muxAnjooYe643tQD4HnPe956fbbby9uUxq3aH3yk5+cZsurz3s98jlblLH3Hjth04f4+mNsmH/xi19Mn/rUp4rTb7PlffprMX18znNfz/se/PRMl3y83377zbhF7eOPP56e8IQnlGzNZLkI3Hjjjemf/umfiq31OPy+devW4vzbAQcckGJPIDbqOrletGhR8VrEHrc1PfTQQ3Pphjh6FLjwwgvTRz7ykRSFPk7JxKHbTq6jiU5efd57BK3RaHHo/h3veEf6m7/5myLns+V9+mvRtbid7SGHHJJ1L+3BDyA9sfUXh3Ziry1uK/CVr3ylOEc7gKY1UaFA7MHFHnzspccNbSLHsWcXh+m+/OUvF5HFufe4KcZsr1UYulmXEFi2bFmxco9JO/meLa8+7yVwM54krqGJa2bi+pnv/d7vLSKdLe/HHntscYQn1vFxPc7U1FSxPsi4a8ke/ICy85u/+ZvpvPPOS1u2bCn28joLyoCa10wFAnHBVfzFEHvqcZFNPP+lX/qlFOftPvjBDxaFIC6qjA97rChe+cpXFudv4y53hnoJXHzxxcWFsvFrefGDI3/wB39QbNzNllef93rldk/Rxmc5js7FN2BiOOecc4rP+M55X758ebGOj6vt48r7yy67bE/NZvGeO9kNOA1R4Kefjx9w85rLSCAO0cVe/fRhttemv+9x/gKz5XC216InPu/557OfCGfLe1xYF0dx4rRc7oMCn3uGxEeAAAECBEoI5L8JUqJTJiFAoB4C9913X3rXu97lt9brkS5R1kxAga9ZwoSbj8DP//zPp3e/+91FQCtWrChuerNzdHHOPm6asvMQ36V/znOes/PLA3/+uc99LsW3AWK46KKLinPMg5rJr/zKr3Tv+lWmzTe84Q3FvQP+5E/+JK1atap74WKZtnLuZ5n+mIbAIAQU+EEoaoPAbgTiBjjHHHPMbt4d/ssf/vCHixt3xJze+ta3FhcPDWKuk5OTxQ2A4uLCMsM///M/p9tuuy393d/9XYqf5/y93/u97p3EyrSXaz/L9MU0BAYloMAPSlI7IysQtzCNW9PG16hirzsKU6/D+eef370tZvxGwTOe8YziBipXX311t4m4z31csd0Z4qr8KFg7D/H1nHjviU98YvF1nl//9V8vvpYZ4330ox9NRxxxRHETj7i7XtyM5Yorriiu7I8997/4i78o7qUfe8sxnHzyyekP//AP08qVK9PTn/70otDGVwLj/g3nnntu8Y2BGO9rX/taevGLX1x8fezII49Ml19+ebycfvRHf7T4P+7oFTf7+O///u/0wz/8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" alt="plot of chunk unnamed-chunk-14"/> </p>

<pre><code class="r">
## summarize the results
summary(all.idu.estimates$estimate)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    44.9   398.0   537.0   579.0   744.0  1200.0
</code></pre>

</body>

</html>
